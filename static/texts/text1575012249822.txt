<h1>Linux下MySQL8.0.18 安装教程</h1><div class="media-wrap image-wrap"><img class="media-wrap image-wrap" src="http://localhost:3001/static/images/image.1575012206361.png" width="436px" height="250px" style="width:436px;height:250px"/></div><p>MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于Oracle旗下产品。MySQL 是最流行的关系型数据库管理系统之一，在 WEB 应用方面，MySQL是最好的RDBMS(Relational Database Management System，关系数据库管理系统) 应用软件之一。</p><p></p><p>MySQL下载地址：<a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p><p></p><div class="media-wrap image-wrap"><img class="media-wrap image-wrap" src="http://localhost:3001/static/images/image.1575012382711.png" width="730.988px" height="436.987px" style="width:730.988px;height:436.987px"/></div><p>选择(mysql-8.0.18-linux-glibc2.12-x86_64.tar)进行下载</p><p>获取下载地址：<span style="color:#c0392b"><strong>https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.18-linux-glibc2.12-x86_64.tar</strong></span></p><p></p><p>本人Linux安装包下载路劲：/usr/local/application</p><p>进入/usr/local</p><p>创建application文件夹</p><p>进入application文件夹</p><p>下载MySQL</p><p>解压MySQL</p><pre><code>cd /usr/local<br/>mkdir application<br/>cd application<br/>wget https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.18-linux-glibc2.12-x86_64.tar<br/>tar -xvf mysql-8.0.18-linux-glibc2.12-x86_64.tar</code></pre><p>解压后</p><p>多三个tar包</p><p>继续解压mysql-8.0.18-linux-glibc2.12-x86_64.tar.xz</p><p></p><div class="media-wrap image-wrap"><img class="media-wrap image-wrap" src="http://localhost:3001/static/images/image.1575012722352.png"/></div><p></p><pre><code>tar -xvf mysql-8.0.18-linux-glibc2.12-x86_64.tar.xz</code></pre><p>得到mysql-8.0.18-linux-glibc2.12-x86_64文件夹</p><p>移动并改名到/usr/local/mysql</p><pre><code>mv mysql-8.0.18-linux-glibc2.12-x86_64 /usr/local/mysql</code></pre><p>进入到/usr/local</p><pre><code>cd /usr/local</code></pre><p><span style="color:#c0392b"><strong>添加用户组和用户</strong></span></p><pre><code>groupadd mysql<br/>useradd -r -g mysql mysql</code></pre><p>进入mysql文件夹</p><pre><code>cd mysql</code></pre><p><span style="color:#c0392b"><strong>对mysql里面文件进行授权</strong></span></p><pre><code>chown -R mysql:mysql ./</code></pre><p><span style="color:#c0392b"><strong>mysql下创建data文件夹</strong></span></p><pre><code>mkdir data</code></pre><p></p><div class="media-wrap image-wrap"><img class="media-wrap image-wrap" src="http://localhost:3001/static/images/image.1575013329086.png"/></div><p></p><p><span style="color:#c0392b"><strong>初始化数据库，自动生成密码 需记录 等下要用</strong></span></p><pre><code>bin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data</code></pre><p style="text-align:left;" size="0" _root="undefined" __ownerid="undefined" __hash="undefined" __altered="false"><span style="background-color:#fdda00">ps：中间遇到一个坑，初始化数据库时候报了错</span></p><p style="text-align:left;" size="0" _root="undefined" __ownerid="undefined" __hash="undefined" __altered="false"><span style="background-color:#fdda00">具体错误为：bin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory</span></p><p style="text-align:left;" size="0" _root="undefined" __ownerid="undefined" __hash="undefined" __altered="false"><span style="background-color:#fdda00">解决方法为：yum install libaio-devel.x86_64 原因是缺少了libaio这个东西 安装就完事了</span></p><p style="text-align:left;" size="0" _root="undefined" __ownerid="undefined" __hash="undefined" __altered="false"><span style="background-color:#fdda00">再次执行初始化命令</span></p><p></p><p>一下是初始化密码需要记录</p><p></p><div class="media-wrap image-wrap"><img class="media-wrap image-wrap" src="http://localhost:3001/static/images/image.1575013472073.png"/></div><p></p><p>修改/usr/local/mysql 当前目录的用户</p><pre><code>chown -R root:root ./<br/>chown -R mysql:mysql ./data</code></pre><p>接下载配置my.cnf文件</p><p>进入support-files文件夹</p><p>创建my-default.cnf文件</p><p><span style="background-color:#fdda00">ps:chmod 修改文件权限，777（可读可写可执行）</span></p><p>返回上一级</p><p>复制my-default.cnf到/etc/my.cnf</p><pre><code>cd support-files<br/>touch my-default.cnf<br/>chmod 777 ./my-default.cnf<br/>cd ../<br/>cp support-files/my-default.cnf /etc/my.cnf</code></pre><p><span style="color:#ff0000"><strong>之后配置my.cnf文件</strong></span></p><pre><code>vi /etc/my.cnf</code></pre><p>my.cnf配置一下</p><pre><code>[mysqld]<br/> <br/># Remove leading # and set to the amount of RAM for the most important data<br/># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.<br/># innodb_buffer_pool_size = 128M<br/> <br/># Remove leading # to turn on a very important data integrity option: logging<br/># changes to the binary log between backups.<br/># log_bin<br/> <br/># These are commonly set, remove the # and set as required.<br/>basedir = /usr/local/mysql<br/>datadir = /usr/local/mysql/data<br/>socket = /tmp/mysql.sock<br/>log-error = /usr/local/mysql/data/error.log<br/>pid-file = /usr/local/mysql/data/mysql.pid<br/>tmpdir = /tmp<br/>port = 5186<br/>#lower_case_table_names = 1<br/># server_id = .....<br/># socket = .....<br/>#lower_case_table_names = 1<br/>max_allowed_packet=32M<br/>default-authentication-plugin = mysql_native_password<br/>#lower_case_file_system = on<br/>#lower_case_table_names = 1<br/>log_bin_trust_function_creators = ON<br/># Remove leading # to set options mainly useful for reporting servers.<br/># The server defaults are faster for transactions and fast SELECTs.<br/># Adjust sizes as needed, experiment to find the optimal values.<br/># join_buffer_size = 128M<br/># sort_buffer_size = 2M<br/># read_rnd_buffer_size = 2M <br/> <br/>sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</code></pre><p>如果后期mysql运行报错，可以直接到log-error = /usr/local/mysql/data/error.log目录下直接查看错误日志</p><p>查看报错</p><pre><code>cat /usr/local/mysql/data/error.log</code></pre><p>开机自启，进入/usr/local/mysql/support-files进行设置</p><p><span style="background-color:#fdda00">ps：/etc/init.d 是 指向  /etc/rc.d/init.d 的软链接。 chmod +x的意思就是给执行权限</span></p><pre><code>cd /usr/local/mysql/support-files<br/>cp mysql.server /etc/init.d/mysql<br/>chmod +x /etc/init.d/mysql</code></pre><p></p><p><span style="color:#ff0000"><strong>注册服务</strong></span></p><p><span style="background-color:#fdda00">ps：chkconfig命令检查、设置系统的各种服务。这是Red Hat公司遵循GPL规则所开发的程序，它可查询操作系统在每一个执行等级中会执行哪些系统服务，其中包括各类常驻服务。谨记chkconfig不是立即自动禁止或激活一个服务，它只是简单的改变了符号连接。</span></p><pre><code><span style="color:#666666"><span style="font-size:14px"><span style="background-color:#f1f2f3">rpm -aq | grep chkconfig</span></span></span><br/>chkconfig --add mysql<br/>export PATH=/sbin:$PATH<br/>chkconfig<br/>PATH=&quot;$PATH&quot;:/sbin<br/>echo $PATH</code></pre><p><span style="color:#222222"><span style="font-size:14px"><span style="background-color:#ffffff">查看注册服务是否成功</span></span></span></p><pre><code>chkconfig --add mysql<br/>chkconfig --list mysql</code></pre><p></p><div class="media-wrap image-wrap"><img class="media-wrap image-wrap" src="http://localhost:3001/static/images/image.1575015092859.png" width="675px" height="278px" style="width:675px;height:278px"/></div><p></p><p><span style="color:#ff0000"><strong>etc/ld.so.conf要配置路径，不然报错</strong></span></p><pre><code>vi /etc/ld.so.conf</code></pre><p>添加一下内容</p><pre><code>/usr/local/mysql/lib</code></pre><p></p><p><span style="color:#ff0000"><strong>配置环境变量</strong></span></p><pre><code>vi /etc/profile</code></pre><p>下底部添加一下内容</p><pre><code>export PATH=$PATH:/usr/local/mysql/bin:/usr/local/mysql/lib</code></pre><p>保存退出，跟新profile文件</p><pre><code>source /etc/profile</code></pre><p></p><p>基本配置完成</p><p><span style="color:#ff0000"><strong>启动MySQL服务</strong></span></p><pre><code>service mysql start</code></pre><p><span style="background-color:#fdda00">ps：第二个坑，在启动时出现错误 详情为：</span></p><p><span style="background-color:#fdda00">Starting MySQL...The server quit without updating PID file [FAILED]cal/mysql/data/mysql.pid).</span></p><p><span style="background-color:#fdda00">查看报错：cat /usr/local/mysql/data/error.log</span></p><p><span style="background-color:#fdda00">百度查看报错进行解决</span></p><p></p><p><strong><span style="color:#ff0000">登录MySQL</span></strong></p><p>配置mysql执行命令</p><pre><code>ln -s/usr/local/mysql/bin/mysql/usr/bin</code></pre><p>登录MySQL</p><pre><code>mysql -u root -p<br/>输入之前保存的初始密码</code></pre><p>修改MySQL密码</p><pre><code>alteruser&#x27;root&#x27;@&#x27;localhost&#x27;identified by&#x27;123456&#x27;;</code></pre><p style="text-align:left;" size="1" _root="[object Object]" __ownerID="undefined" __hash="undefined" __altered="false"><span style="color:#ff0000"><strong><a href="https://www.cnblogs.com/angelye/p/8560852.html" class="postTitle2">查看mysql是否启动</a></strong></span></p><p>使用命令 # service mysqld status 或者 # service mysql status 命令来查看mysql 的启动状态</p><p>如果是 mysqld is stopped 那就说明mysql服务是停止状态，</p><p>如果是 mysqld is running 那就说明mysql服务是启动状态</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>